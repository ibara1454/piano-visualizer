(function(e){function t(t){for(var n,s,r=t[0],l=t[1],o=t[2],u=0,y=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&y.push(c[s][0]),c[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(y.length)y.shift()();return i.push.apply(i,o||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var l=a[r];0!==c[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},c={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/piano-visualizer/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"07c7":function(e,t,a){"use strict";var n=a("b376"),c=a.n(n);t["default"]=c.a},"0f16":function(e,t,a){"use strict";var n=a("89c6"),c=a.n(n);t["default"]=c.a},"262b":function(e,t,a){"use strict";var n=a("90d5"),c=a.n(n);t["default"]=c.a},3393:function(e,t,a){e.exports=a.p+"img/icon-64x64.fb5bb227.png"},"3ce4":function(e,t,a){"use strict";var n=a("af84"),c=a.n(n);t["default"]=c.a},"3dd8":function(e,t,a){"use strict";var n=a("58b5"),c=a.n(n);t["default"]=c.a},"4ef9":function(e,t,a){e.exports={app:"App_app_3cl75",frame:"App_frame_2NRD_",page:"App_page_3ybD_",destination:"App_destination_DG-Ji",fullscreen:"App_fullscreen_1MUaN",veil:"App_veil_pGFNd",dialog:"App_dialog_1OMi8"}},5381:function(e,t,a){e.exports={page:"MainPage_page_2lum8",appear:"MainPage_appear_3xLRz","appear-to":"MainPage_appear-to_27xjs","appear-active":"MainPage_appear-active_33w5l"}},"58b5":function(e,t,a){e.exports={wrapper:"LogoImage_wrapper_NHfTj",icon:"LogoImage_icon_3w5-l"}},"5a4f":function(e,t,a){"use strict";var n=a("cece"),c=a.n(n);t["default"]=c.a},"683b":function(e,t,a){e.exports={frame:"PageFrame_frame_13ovF"}},"6b74":function(e,t,a){},"7e08":function(e,t,a){"use strict";var n=a("5381"),c=a.n(n);t["default"]=c.a},"89c6":function(e,t,a){e.exports={block:"PageBlock_block_2e-4h"}},"8d8d":function(e,t,a){"use strict";var n=a("4ef9"),c=a.n(n);t["default"]=c.a},"90d5":function(e,t,a){e.exports={button:"FlatButton_button_2MHnH"}},9657:function(e,t,a){"use strict";var n=a("6b74"),c=a.n(n);c.a},9798:function(e,t,a){"use strict";var n=a("af98"),c=a.n(n);t["default"]=c.a},af84:function(e,t,a){e.exports={flex:"HeaderMenu_flex_3Xo3d",menu:"HeaderMenu_menu_1C6Bz",button:"HeaderMenu_button_2wKSW",keyboard:"HeaderMenu_keyboard_16fZA",device:"HeaderMenu_device_1YJcH",settings:"HeaderMenu_settings_mS_TA"}},af98:function(e,t,a){e.exports={container:"MainLogo_container_32_SU",title:"MainLogo_title_n1yR3"}},b376:function(e,t,a){e.exports={alert:"AlertMessage_alert_1zr9i",warning:"AlertMessage_warning_aQcLV",info:"AlertMessage_info_2JQjG",success:"AlertMessage_success_3bshx"}},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),c=a("a6f4"),i=a("2b88"),s=a.n(i),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.app},[a("PageFrame",{class:e.$style.frame},[a("HeaderMenu"),a("MainPage",{class:e.$style.page})],1),a("portal",{attrs:{to:"dialog"}},[e._e()],2),a("portal-target",{staticClass:"destination",attrs:{name:"dialog"}})],1)},l=[],o=(a("a4d3"),a("e01a"),a("99af"),a("4de4"),a("7db0"),a("4160"),a("a630"),a("d81d"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("2909")),d=a("d4ec"),u=a("bee2"),y=a("a6e8"),k=(a("caad"),a("b0c0"),a("2532"),a("10d1"),a("5364")),f=a("9bd1"),p=15,v=128,h=144,z=64,b=63,g=a("dba1"),I=new WeakMap,m=new WeakMap,_=function(){function e(t){var a=this;Object(d["a"])(this,e),I.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),this.device=t,Object(f["a"])(this,I,new g["a"]([])),Object(f["a"])(this,m,new g["a"](!1)),this.listener=function(e){var t=e,n=t.data,c={first:n[0],second:n[1],third:n[2]},i=c.first,s=c.second,r=c.third;if((i&~p)===h){if(!Object(k["a"])(a,I).getValue().map((function(e){return e.note})).includes(s)){var l=[].concat(Object(o["a"])(Object(k["a"])(a,I).getValue()),[{note:s,velocity:r}]);Object(k["a"])(a,I).next(l)}}else if((i&~p)===v){var d=Object(k["a"])(a,I).getValue().filter((function(e){return e.note!==s}));Object(k["a"])(a,I).next(d)}else(i&z)===z&&(s<=b?Object(k["a"])(a,m).next(!1):Object(k["a"])(a,m).next(!0))},this.attached=!1}return Object(u["a"])(e,[{key:"attach",value:function(){!1===this.attached&&(Object(f["a"])(this,I,new g["a"]([])),Object(f["a"])(this,m,new g["a"](!1)),this.device.addEventListener("midimessage",this.listener),this.attached=!0)}},{key:"detach",value:function(){!0===this.attached&&(this.device.removeEventListener("midimessage",this.listener),Object(k["a"])(this,I).complete(),Object(k["a"])(this,m).complete(),this.attached=!1)}},{key:"keys",get:function(){return Object(k["a"])(this,I).asObservable()}},{key:"pedal",get:function(){return Object(k["a"])(this,m).asObservable()}},{key:"id",get:function(){return this.device.id}},{key:"name",get:function(){return this.device.name||"unknown"}},{key:"manufacturer",get:function(){return this.device.manufacturer||"unknown"}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),w=function(){function e(){var t=this;Object(d["a"])(this,e),this.state=Object(c["f"])({activeDevice:void 0,devices:[],pressed:[],pedal:!1,error:void 0}),this.midiAccess=void 0,this.subscription=void 0,this.listener=function(e){var a=e,n=a.port;if("input"===n.type){var c=_.create(n);"connected"===a.port.state?t.onDeviceConnect(c):t.onDeviceDisconnect(c)}}}return Object(u["a"])(e,[{key:"connect",value:function(){var e=this;"requestMIDIAccess"in navigator?void 0===this.midiAccess&&navigator.requestMIDIAccess({sysex:!0}).then((function(t){e.midiAccess=t;var a=Array.from(t.inputs.values()).map(_.create);a.forEach((function(t){return e.onDeviceConnect(t)})),e.midiAccess.addEventListener("statechange",e.listener)})).catch((function(){e.state.error="Unexpected error occurred."})):this.state.error="Unsupported browser detected. Please use the latest Google Chrome."}},{key:"disconnect",value:function(){this.midiAccess&&(this.midiAccess.removeEventListener("statechange",this.listener),this.midiAccess=void 0)}},{key:"changeDevice",value:function(e){var t;(null===(t=this.state.activeDevice)||void 0===t?void 0:t.id)!==e.id&&(void 0!==this.state.activeDevice&&this.detachDevice(this.state.activeDevice),this.state.activeDevice=e,this.attachDevice(e))}},{key:"onDeviceConnect",value:function(e){var t=this.state.devices.find((function(t){return t.id===e.id}));if(void 0===t){var a=this.state.devices;this.state.devices=[].concat(Object(o["a"])(a),[e]),void 0===this.state.activeDevice&&(this.state.activeDevice=e,this.attachDevice(e))}}},{key:"onDeviceDisconnect",value:function(e){var t,a=this.state.devices;this.state.devices=a.filter((function(t){return t.id!==e.id})),e.id===(null===(t=this.state.activeDevice)||void 0===t?void 0:t.id)&&(this.detachDevice(this.state.activeDevice),this.state.activeDevice=void 0)}},{key:"attachDevice",value:function(e){var t=this;e.attach();var a=new y["a"];a.add(e.keys.subscribe((function(e){t.state.pressed=e}))),a.add(e.pedal.subscribe((function(e){t.state.pedal=e}))),this.subscription=a}},{key:"detachDevice",value:function(e){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0),e.detach()}}]),e}();w.key=Symbol("PianoStore");var O=function(){Object(c["e"])(w.key,new w)},j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.frame},[e._t("default")],2)},A=[],D=Object(c["c"])({name:"PageFrame"}),$=D,x=a("df1a"),M=a("2877");function P(e){this["$style"]=x["default"].locals||x["default"]}var F=Object(M["a"])($,j,A,!1,P,null,null),C=F.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:[e.$style.menu]},[a("MainLogo"),a("FlatButton",{class:[e.$style.button,e.$style.device]},[void 0===e.state.activeDevice?[a("SmallIcon",{attrs:{icon:e.faPlug}}),a("p",[e._v("No device")])]:[a("img",{class:e.$style.keyboard,attrs:{src:e.KeyboardIcon}}),a("p",[e._v(e._s(e.state.activeDevice.name))])]],2),a("FlatButton",{class:[e.$style.button,e.$style.settings],attrs:{disabled:"disabled"}},[a("SmallIcon",{attrs:{icon:e.faCog}}),a("p",[e._v("Settings")])],1)],1)},E=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{class:e.$style.button,attrs:{disabled:e.disabled}},[e._t("default")],2)},G=[],L=Object(c["c"])({props:{disabled:{type:Boolean,required:!1,default:!1}},name:"FlatButton"}),H=L,q=a("262b");function N(e){this["$style"]=q["default"].locals||q["default"]}var V=Object(M["a"])(H,S,G,!1,N,null,null),T=V.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("font-awesome-icon",{attrs:{icon:e.icon,size:e.size}})},U=[],K=a("ad3d"),R=Object(c["c"])({name:"SmallIcon",components:{FontAwesomeIcon:K["a"]},props:{icon:{required:!0},size:{type:String,required:!1,default:"lg"}}}),W=R,Q=a("5a4f");function X(e){this["$style"]=Q["default"].locals||Q["default"]}var Y=Object(M["a"])(W,J,U,!1,X,null,null),Z=Y.exports,ee=a("c074"),te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.container},[a("LogoImage"),a("h1",{class:e.$style.title},[e._v("Piano Visualizer")])],1)},ae=[],ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.wrapper},[a("img",{class:e.$style.icon,attrs:{src:e.iconImage}})])},ce=[],ie=a("3393"),se=a.n(ie),re=Object(c["c"])({name:"LogoImage",setup:function(){return{iconImage:se.a}}}),le=re,oe=a("3dd8");function de(e){this["$style"]=oe["default"].locals||oe["default"]}var ue=Object(M["a"])(le,ne,ce,!1,de,null,null),ye=ue.exports,ke=Object(c["c"])({name:"MainLogo",components:{LogoImage:ye}}),fe=ke,pe=a("9798");function ve(e){this["$style"]=pe["default"].locals||pe["default"]}var he=Object(M["a"])(fe,te,ae,!1,ve,null,null),ze=he.exports,be=a("d7ed"),ge=a.n(be),Ie=Object(c["c"])({name:"HeaderMenu",components:{PageFrame:C,FlatButton:T,SmallIcon:Z,MainLogo:ze},setup:function(){var e=Object(c["d"])(w.key),t=e.state;return{state:t,faPlug:ee["e"],faCog:ee["b"],KeyboardIcon:ge.a}}}),me=Ie,_e=a("3ce4");function we(e){this["$style"]=_e["default"].locals||_e["default"]}var Oe=Object(M["a"])(me,B,E,!1,we,null,null),je=Oe.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.page},[a("transition",{attrs:{appear:"","appear-class":e.$style.appear,"appear-to-class":e.$style["appear-to"],"appear-active-class":e.$style["appear-active"]}},[e.state.error?a("div",[a("AlertMessage",{attrs:{warning:"",message:e.state.error}})],1):e._e()]),a("PageBlock",[a("VisualPiano",{attrs:{pressed:e.state.pressed,pedal:e.state.pedal}})],1)],1)},De=[],$e=function(){var e,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{class:(e={},e[t.$style.alert]=!0,e[t.$style.warning]=t.warning,e[t.$style.info]=t.info,e[t.$style.success]=t.success,e)},[n("SmallIcon",{attrs:{icon:t.icon,size:"sm"}}),t._v(" "+t._s(t.message)+" ")],1)},xe=[],Me=Object(c["c"])({name:"AlertMessage",props:{message:{type:String,required:!0},warning:{type:Boolean,required:!1,default:!1},info:{type:Boolean,required:!1,default:!1},success:{type:Boolean,required:!1,default:!1}},components:{SmallIcon:Z},setup:function(e){var t=Object(c["a"])((function(){return e.warning?ee["c"]:e.info?ee["d"]:e.success?ee["a"]:ee["f"]}));return{icon:t}}}),Pe=Me,Fe=a("07c7");function Ce(e){this["$style"]=Fe["default"].locals||Fe["default"]}var Be=Object(M["a"])(Pe,$e,xe,!1,Ce,null,null),Ee=Be.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.block},[e._t("default")],2)},Ge=[],Le=Object(c["c"])({name:"PageBlock"}),He=Le,qe=a("0f16");function Ne(e){this["$style"]=qe["default"].locals||qe["default"]}var Ve=Object(M["a"])(He,Se,Ge,!1,Ne,null,null),Te=Ve.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel"},e._l(e.keyData,(function(t){return a("div",{key:t.key,staticClass:"key",class:[t.clazz,{pressed:e.isPressed([t.key,t.keyId])}],attrs:{"data-key":t.key,"data-keyid":t.keyId}})})),0)},Ue=[],Ke=(a("25f0"),a("3835"));function Re(e,t){return e.filter((function(e){return t.includes(e)}))}var We=[{clazz:"white",key:"A0",keyId:"21"},{clazz:"black",key:"A0#",keyId:"22"},{clazz:"white",key:"B0",keyId:"23"},{clazz:"white",key:"C1",keyId:"24"},{clazz:"black",key:"C1#",keyId:"25"},{clazz:"white",key:"D1",keyId:"26"},{clazz:"black",key:"D1#",keyId:"27"},{clazz:"white",key:"E1",keyId:"28"},{clazz:"white",key:"F1",keyId:"29"},{clazz:"black",key:"F1#",keyId:"30"},{clazz:"white",key:"G1",keyId:"31"},{clazz:"black",key:"G1#",keyId:"32"},{clazz:"white",key:"A1",keyId:"33"},{clazz:"black",key:"A1#",keyId:"34"},{clazz:"white",key:"B1",keyId:"35"},{clazz:"white",key:"C2",keyId:"36"},{clazz:"black",key:"C2#",keyId:"37"},{clazz:"white",key:"D2",keyId:"38"},{clazz:"black",key:"D2#",keyId:"39"},{clazz:"white",key:"E2",keyId:"40"},{clazz:"white",key:"F2",keyId:"41"},{clazz:"black",key:"F2#",keyId:"42"},{clazz:"white",key:"G2",keyId:"43"},{clazz:"black",key:"G2#",keyId:"44"},{clazz:"white",key:"A2",keyId:"45"},{clazz:"black",key:"A2#",keyId:"46"},{clazz:"white",key:"B2",keyId:"47"},{clazz:"white",key:"C3",keyId:"48"},{clazz:"black",key:"C3#",keyId:"49"},{clazz:"white",key:"D3",keyId:"50"},{clazz:"black",key:"D3#",keyId:"51"},{clazz:"white",key:"E3",keyId:"52"},{clazz:"white",key:"F3",keyId:"53"},{clazz:"black",key:"F3#",keyId:"54"},{clazz:"white",key:"G3",keyId:"55"},{clazz:"black",key:"G3#",keyId:"56"},{clazz:"white",key:"A3",keyId:"57"},{clazz:"black",key:"A3#",keyId:"58"},{clazz:"white",key:"B3",keyId:"59"},{clazz:"white",key:"C4",keyId:"60"},{clazz:"black",key:"C4#",keyId:"61"},{clazz:"white",key:"D4",keyId:"62"},{clazz:"black",key:"D4#",keyId:"63"},{clazz:"white",key:"E4",keyId:"64"},{clazz:"white",key:"F4",keyId:"65"},{clazz:"black",key:"F4#",keyId:"66"},{clazz:"white",key:"G4",keyId:"67"},{clazz:"black",key:"G4#",keyId:"68"},{clazz:"white",key:"A4",keyId:"69"},{clazz:"black",key:"A4#",keyId:"70"},{clazz:"white",key:"B4",keyId:"71"},{clazz:"white",key:"C5",keyId:"72"},{clazz:"black",key:"C5#",keyId:"73"},{clazz:"white",key:"D5",keyId:"74"},{clazz:"black",key:"D5#",keyId:"75"},{clazz:"white",key:"E5",keyId:"76"},{clazz:"white",key:"F5",keyId:"77"},{clazz:"black",key:"F5#",keyId:"78"},{clazz:"white",key:"G5",keyId:"79"},{clazz:"black",key:"G5#",keyId:"80"},{clazz:"white",key:"A5",keyId:"81"},{clazz:"black",key:"A5#",keyId:"82"},{clazz:"white",key:"B5",keyId:"83"},{clazz:"white",key:"C6",keyId:"84"},{clazz:"black",key:"C6#",keyId:"85"},{clazz:"white",key:"D6",keyId:"86"},{clazz:"black",key:"D6#",keyId:"87"},{clazz:"white",key:"E6",keyId:"88"},{clazz:"white",key:"F6",keyId:"89"},{clazz:"black",key:"F6#",keyId:"90"},{clazz:"white",key:"G6",keyId:"91"},{clazz:"black",key:"G6#",keyId:"92"},{clazz:"white",key:"A6",keyId:"93"},{clazz:"black",key:"A6#",keyId:"94"},{clazz:"white",key:"B6",keyId:"95"},{clazz:"white",key:"C7",keyId:"96"},{clazz:"black",key:"C7#",keyId:"97"},{clazz:"white",key:"D7",keyId:"98"},{clazz:"black",key:"D7#",keyId:"99"},{clazz:"white",key:"E7",keyId:"100"},{clazz:"white",key:"F7",keyId:"101"},{clazz:"black",key:"F7#",keyId:"102"},{clazz:"white",key:"G7",keyId:"103"},{clazz:"black",key:"G7#",keyId:"104"},{clazz:"white",key:"A7",keyId:"105"},{clazz:"black",key:"A7#",keyId:"106"},{clazz:"white",key:"B7",keyId:"107"},{clazz:"white",key:"C8",keyId:"108"}],Qe=Object(c["c"])({name:"VisualPiano",props:{pressed:{type:Array,required:!1,default:function(){return[]}},pedal:{type:Boolean,required:!1,default:!0}},setup:function(e){var t=Object(c["f"])({pressed:[]});Object(c["g"])((function(){return[e.pressed,e.pedal]}),(function(e){var a=Object(Ke["a"])(e,2),n=a[0],c=a[1],i=n,s=c;t.pressed=s?[].concat(Object(o["a"])(t.pressed),Object(o["a"])(i)):i}));var a=function(e){var a=t.pressed.map((function(e){return"string"===typeof e?e:"number"===typeof e?e.toString():e.note.toString()}));return 0!==Re(e,a).length};return{state:t,keyData:We,isPressed:a}}}),Xe=Qe,Ye=(a("9657"),Object(M["a"])(Xe,Je,Ue,!1,null,"d7594680",null)),Ze=Ye.exports,et=Object(c["c"])({name:"MainPage",components:{AlertMessage:Ee,PageBlock:Te,VisualPiano:Ze},setup:function(){var e=Object(c["d"])(w.key),t=e.state;return Object(c["h"])((function(t){e.connect(),t((function(){return e.disconnect()}))})),{state:t}}}),tt=et,at=a("7e08");function nt(e){this["$style"]=at["default"].locals||at["default"]}var ct=Object(M["a"])(tt,Ae,De,!1,nt,null,null),it=ct.exports,st=Object(c["c"])({name:"App",components:{PageFrame:C,HeaderMenu:je,MainPage:it},setup:function(){O()}}),rt=st,lt=a("8d8d");function ot(e){this["$style"]=lt["default"].locals||lt["default"]}var dt=Object(M["a"])(rt,r,l,!1,ot,null,null),ut=dt.exports,yt=a("9483");Object(yt["a"])("".concat("/piano-visualizer/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["default"].config.productionTip=!1,n["default"].use(c["b"]),n["default"].use(s.a),new n["default"]({render:function(e){return e(ut)}}).$mount("#app")},cece:function(e,t,a){e.exports={button:"SmallIcon_button_1wgvT"}},d7ed:function(e,t,a){e.exports=a.p+"img/keyboard.6ab84024.svg"},df1a:function(e,t,a){"use strict";var n=a("683b"),c=a.n(n);t["default"]=c.a}});
//# sourceMappingURL=app.4b2bc3c0.js.map